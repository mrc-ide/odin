<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Odin options — odin_options • odin</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Odin options — odin_options"><meta property="og:description" content="For lower-level odin functions odin_parse,
odin_validate we only accept a list of options rather
than individually named options."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">odin</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.5.11</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/odin.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/debugging.html">debugging</a>
    </li>
    <li>
      <a href="../articles/discrete.html">odin discrete models</a>
    </li>
    <li>
      <a href="../articles/functions.html">odin functions</a>
    </li>
    <li>
      <a href="../articles/guide.html">Guide to odin docs</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/mrc-ide/odin/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Odin options</h1>
    <small class="dont-index">Source: <a href="https://github.com/mrc-ide/odin/blob/HEAD/R/odin_options.R" class="external-link"><code>R/odin_options.R</code></a></small>
    <div class="hidden name"><code>odin_options.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>For lower-level odin functions <a href="odin_parse.html">odin_parse</a>,
<a href="odin_validate.html">odin_validate</a> we only accept a list of options rather
than individually named options.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">odin_options</span><span class="op">(</span>verbose <span class="op">=</span> <span class="cn">NULL</span>, target <span class="op">=</span> <span class="cn">NULL</span>, workdir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  validate <span class="op">=</span> <span class="cn">NULL</span>, pretty <span class="op">=</span> <span class="cn">NULL</span>, skip_cache <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  compiler_warnings <span class="op">=</span> <span class="cn">NULL</span>, no_check_unused_equations <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rewrite_dims <span class="op">=</span> <span class="cn">NULL</span>, rewrite_constants <span class="op">=</span> <span class="cn">NULL</span>, debug_enable <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  substitutions <span class="op">=</span> <span class="cn">NULL</span>, options <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>verbose</dt>
<dd><p>Logical scalar indicating if the compilation should
be verbose.  Defaults to the value of the option
<code>odin.verbose</code> or <code>FALSE</code> otherwise.</p></dd>


<dt>target</dt>
<dd><p>Compilation target.  Options are "c", "r" or "js",
defaulting to the option <code>odin.target</code> or "c" otherwise.</p></dd>


<dt>workdir</dt>
<dd><p>Directory to use for any generated files.  This is
only relevant for the "c" target.  Defaults to the value of the
option <code>odin.workdir</code> or <code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir()</a></code> otherwise.</p></dd>


<dt>validate</dt>
<dd><p>Validate the model's intermediate representation
against the included schema.  Normally this is not needed and is
intended primarily for development use.  Defaults to the value
of the option <code>odin.validate</code> or <code>FALSE</code> otherwise.</p></dd>


<dt>pretty</dt>
<dd><p>Pretty-print the model's intermediate
representation.  Normally this is not needed and is intended
primarily for development use.  Defaults to the value of the
option <code>odin.pretty</code> or <code>FALSE</code> otherwise.</p></dd>


<dt>skip_cache</dt>
<dd><p>Skip odin's cache.  This might be useful if the
model appears not to compile when you would expect it to.
Hopefully this will not be needed often.  Defaults to the option
<code>odin.skip_cache</code> or <code>FALSE</code> otherwise.</p></dd>


<dt>compiler_warnings</dt>
<dd><p>Previously this attempted detection of
compiler warnings (with some degree of success), but is
currently ignored. This may become supported again in a future
version depending on underlying support in pkgbuild.</p></dd>


<dt>no_check_unused_equations</dt>
<dd><p>If <code>TRUE</code>, then don't print
messages about unused variables.  Defaults to the option
<code>odin.no_check_unused_equations</code> or <code>FALSE</code> otherwise.</p></dd>


<dt>rewrite_dims</dt>
<dd><p>Logical, indicating if odin should try and
rewrite your model dimensions (if using arrays). If <code>TRUE</code> then
we replace dimensions known at compile-time with literal
integers, and those known at initialisation with simplified and
shared expressions. You may get less-comprehensible error
messages with this option set to <code>TRUE</code> because parts of the
model have been effectively evaluated during processing.</p></dd>


<dt>rewrite_constants</dt>
<dd><p>Logical, indicating if odin should try
and rewrite <em>all</em> constant scalars. This is a superset of
<code>rewrite_dims</code> and may be slow for large models. Doing this will
make your model less debuggable; error messages will reference
expressions that have been extensively rewritten, some variables
will have been removed entirely or merged with other identical
expressions, and the generated code may not be obviously
connected to the original code.</p></dd>


<dt>debug_enable</dt>
<dd><p>Enable debugging commands in generated code
(currently <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code>). If <code>TRUE</code> then these are generated by
odin targets that support them, and will generally make your
program slower.</p></dd>


<dt>substitutions</dt>
<dd><p>Optionally, a list of values to substitute
into model specification as constants, even though they are
declared as <code>user()</code>. This will be most useful in conjunction
with <code>rewrite_dims</code> to create a copy of your model with
dimensions known at compile time and all loops using literal
integers.</p></dd>


<dt>options</dt>
<dd><p>Named list of options.  If provided, then all other
options are ignored.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list of parameters, of class <code>odin_options</code></p>


    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">odin_options</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $validate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $verbose</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $target</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "c"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $pretty</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $workdir</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "/tmp/RtmpqvdibS/file17334d1b67f8"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $skip_cache</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rewrite_dims</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rewrite_constants</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $substitutions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $debug_enable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $no_check_unused_equations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $compiler_warnings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $read_include</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> function (filename) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     d &lt;- readLines(filename)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     re1 &lt;- "^[[:alnum:]_*]+ ([[:alnum:]_]+)(.+)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     i1 &lt;- grep(re1, d)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     i2 &lt;- grep("^}$", d)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     if (length(i1) != length(i2)) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         stop("Parse error for ", filename)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     name &lt;- sub(re1, "\\1", d[i1])</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     defn &lt;- setNames(vcapply(seq_along(i1), function(k) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         paste(d[i1[[k]]:i2[[k]]], collapse = "\n")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     }), name)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     decl &lt;- sub("^([^{]*?)\\s*\\{.*", "\\1;", defn)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     list(names = name, data = list(names = name, declarations = decl, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         definitions = defn, filename = filename))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;bytecode: 0x55ceac32aaf0&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;environment: namespace:odin&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "odin_options"</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Rich FitzJohn.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

