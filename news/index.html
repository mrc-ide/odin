<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • odin</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">odin</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.3.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/odin.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/discrete.html">odin discrete models</a>
    </li>
    <li>
      <a href="../articles/functions.html">odin functions</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/mrc-ide/odin/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="https://github.com/mrc-ide/odin/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="1.3.0" id="odin-130">odin 1.3.0<a class="anchor" aria-label="anchor" href="#odin-130"></a></h2>
<ul><li>Added JavaScript support, importing code previously in <a href="https://github.com/mrc-ide/odin.js/" class="external-link"><code>odin.js</code></a>. Models with delays are not supported (mrc-1624)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.2.2" id="odin-122">odin 1.2.2<a class="anchor" aria-label="anchor" href="#odin-122"></a></h2>
<ul><li>Optimise some <code>if/else</code> statements where the condition can be worked out at compile time; this means only one clause may be present in the generated code (mrc-2529)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.14" id="odin-1114">odin 1.1.14<a class="anchor" aria-label="anchor" href="#odin-1114"></a></h2>
<ul><li>Deprecate the function-style constructors (e.g., <code>generator(...)</code>) in favour of R6-style constructors (<code>generator$new(...)</code>) (<a href="https://github.com/mrc-ide/odin/issues/206" class="external-link">#206</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.13" id="odin-1113">odin 1.1.13<a class="anchor" aria-label="anchor" href="#odin-1113"></a></h2>
<ul><li>Allow spaces in filenames passed to <code><a href="../reference/odin.html">odin::odin()</a></code> (<a href="https://github.com/mrc-ide/odin/issues/225" class="external-link">#225</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.12" id="odin-1112">odin 1.1.12<a class="anchor" aria-label="anchor" href="#odin-1112"></a></h2>
<ul><li>New option <code>rewrite_constants</code> (via <code><a href="../reference/odin_options.html">odin::odin_options</a></code>) which attempts to rewrite all constants in the model code before generation. This can considerably reduce the number of variable lookups (mrc-2252)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.11" id="odin-1111">odin 1.1.11<a class="anchor" aria-label="anchor" href="#odin-1111"></a></h2>
<ul><li>New option <code>substitutions</code> (via <code><a href="../reference/odin_options.html">odin::odin_options</a></code>) which can substitute in scalar <code>user</code> values at compile time (<a href="https://github.com/mrc-ide/odin/issues/220" class="external-link">#220</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.9" id="odin-119">odin 1.1.9<a class="anchor" aria-label="anchor" href="#odin-119"></a></h2>
<ul><li>New option <code>rewrite_dims</code> (via <code><a href="../reference/odin_options.html">odin::odin_options</a></code>) which will attempt to simplify common dimensions. This can reduce the number of variables carried around in the model as these are typically very redundant and also known at compile time (mrc-2093)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.8" id="odin-118">odin 1.1.8<a class="anchor" aria-label="anchor" href="#odin-118"></a></h2>
<ul><li>Annotate equations with <code># ignore.unused</code> to locally suppress messages about unused variables (mrc-2122)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.6" id="odin-116">odin 1.1.6<a class="anchor" aria-label="anchor" href="#odin-116"></a></h2>
<ul><li>odin no longer warns about use of index variables on rhs as new behaviour has been established for a while (<a href="https://github.com/mrc-ide/odin/issues/136" class="external-link">#136</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.4" id="odin-114">odin 1.1.4<a class="anchor" aria-label="anchor" href="#odin-114"></a></h2>
<ul><li>Better error messages when C identifiers (e.g., <code>int</code>) are used in equations (reported by <a href="https://github.com/rhysinward" class="external-link">@rhysinward</a>, <a href="https://github.com/katietiley" class="external-link">@katietiley</a> and <a href="https://github.com/cwhittaker1000" class="external-link">@cwhittaker1000</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.2" id="odin-112">odin 1.1.2<a class="anchor" aria-label="anchor" href="#odin-112"></a></h2>
<ul><li>Support for <code>config(include)</code> has been expanded, working for R models and designed to be extensible for other targets (mrc-2016)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.0" id="odin-110">odin 1.1.0<a class="anchor" aria-label="anchor" href="#odin-110"></a></h2>
<ul><li>The basic infrastructure has been overhauled, which will make some alternative compilation targets easier to support. We now use <code>pkgbuild</code> for the compilation which should ease debugging, and odin code compiled into packages will no longer issue a slew of warnings (and cooperate with automatic routine registration). This refactor has caused a few minor breaking changes:
<ul><li>
<code>$initial()</code> always requires time, even if it is ignored</li>
<li>
<code>$set_user()</code> and construction no longer work with positional argument matching - all arguments must be named</li>
<li>The <code>$ir</code> field has become a method; add parentheses after it</li>
<li>The <code>compiler_warnings</code> option has been removed</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0.7" id="odin-107">odin 1.0.7<a class="anchor" aria-label="anchor" href="#odin-107"></a></h2>
<ul><li>Support for <code><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer()</a></code> to cast to integer for use within array expressions (<a href="https://github.com/mrc-ide/odin/issues/200" class="external-link">#200</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0.6" id="odin-106">odin 1.0.6<a class="anchor" aria-label="anchor" href="#odin-106"></a></h2>
<ul><li>Fixed bug in code generation for initial conditions involving sums of matrices (<a href="https://github.com/mrc-ide/odin/issues/196" class="external-link">#196</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0.3" id="odin-103">odin 1.0.3<a class="anchor" aria-label="anchor" href="#odin-103"></a></h2>
<ul><li>Support for multivariate hypergeometric function via the odin function <code>rmhyper()</code> - there is no analogue for this in base R. Like <code>rmultinom</code> this returns a vector and the interface is subject to possible change (<code>mrc-1621</code>)</li>
<li>New vignette <code>functions</code>, which briefly describes all supported odin functions (<code>mrc-1623</code>)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0.2" id="odin-102">odin 1.0.2<a class="anchor" aria-label="anchor" href="#odin-102"></a></h2>
<ul><li>Support for 2-argument round (e.g., <code>round(1.23, 1)</code> is 1.2), and enforce the same 0.5 rounding behaviour as R when used from C (<code>mrc-511</code>, <a href="https://github.com/mrc-ide/odin/issues/116" class="external-link">#116</a>, <a href="https://github.com/mrc-ide/odin/issues/179" class="external-link">#179</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0.0" id="odin-100">odin 1.0.0<a class="anchor" aria-label="anchor" href="#odin-100"></a></h2>
<ul><li>Initial release to CRAN</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.6" id="odin-026">odin 0.2.6<a class="anchor" aria-label="anchor" href="#odin-026"></a></h2>
<ul><li>Default history size is back to 10,000 steps (not 1,000) as in pre-0.2.0 (<code>mrc-327</code>, <a href="https://github.com/mrc-ide/odin/issues/176" class="external-link">#176</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.4" id="odin-024">odin 0.2.4<a class="anchor" aria-label="anchor" href="#odin-024"></a></h2>
<ul><li>
<code>odin_package</code> now works with R staged installation as introduced in 3.6.0 (<a href="https://github.com/mrc-ide/odin/pull/170" class="external-link">#170</a>, <code>mrc-257</code>)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.3" id="odin-023">odin 0.2.3<a class="anchor" aria-label="anchor" href="#odin-023"></a></h2>
<ul><li>Better error messages for some invalid uses of array indices that previously manifested as compiler errors <a href="https://github.com/mrc-ide/odin/issues/166" class="external-link">#166</a>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.2" id="odin-022">odin 0.2.2<a class="anchor" aria-label="anchor" href="#odin-022"></a></h2>
<ul><li>Fix two memory leaks (<a href="https://github.com/mrc-ide/odin/issues/163" class="external-link">#163</a>); these leaked once per model creation.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.1" id="odin-021">odin 0.2.1<a class="anchor" aria-label="anchor" href="#odin-021"></a></h2>
<ul><li>Continuous time models with delays can now return derivatives (<a href="https://github.com/mrc-ide/odin/issues/161" class="external-link">#161</a>, <a href="https://github.com/mrc-ide/odin/issues/162" class="external-link">#162</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.0" id="odin-020">odin 0.2.0<a class="anchor" aria-label="anchor" href="#odin-020"></a></h2>
<p>A complete rewrite of the odin engine, designed to increase future maintainability but have few user-visible effects. In brief, this does add</p>
<ul><li>Ability to transpile to R (removing the need for a C compiler, though creating code that is necessarily much slower than the compiled version). Pass <code>target = "r"</code> to use this.</li>
<li>A new intermediate representation for odin models that can be used to determine features of a model</li>
<li>Better caching (<a href="https://github.com/mrc-ide/odin/issues/64" class="external-link">#64</a>)</li>
<li>Delays on discrete time models are much more efficient and work properly with stochastic equations (<a href="https://github.com/mrc-ide/odin/issues/72" class="external-link">#72</a>, <a href="https://github.com/mrc-ide/odin/issues/98" class="external-link">#98</a>)</li>
</ul><p>This does introduce a few user-visible <strong>breaking changes</strong>: - use of array indices outside of an array subset (e.g., <code>x[] &lt;- i</code>) produces output that is off-by-one compared with the previous version (see <a href="https://github.com/mrc-ide/odin/issues/136" class="external-link">#136</a>) - The “safe” mode has been removed, at least for now. This failed to compile for complex models and was not well used. A better static check mechanism will be introduced (<a href="https://github.com/mrc-ide/odin/issues/148" class="external-link">#148</a>) - Arguments to <code><a href="../reference/odin.html">odin()</a></code> have been modified slightly - <code><a href="../reference/odin_package.html">odin_package()</a></code> no longer supports multi-file mode (I don’t think this was ever used). - Argument order in generated functions, as well as variable/output order, is likely to change but this should not generally be relied upon. - The methods for a model object have been extensively rationalised. I don’t think that anything has been removed that anyone is using in their code. - The parameters passed as a list <code>user</code> are validated and providing additional parameters is a warning (by default; this can be configured to be more or less strict as desired).</p>
<p>Fixes many outstanding issues: <a href="https://github.com/mrc-ide/odin/issues/139" class="external-link">#139</a>, <a href="https://github.com/mrc-ide/odin/issues/136" class="external-link">#136</a>, <a href="https://github.com/mrc-ide/odin/issues/132" class="external-link">#132</a>, <a href="https://github.com/mrc-ide/odin/issues/130" class="external-link">#130</a>, <a href="https://github.com/mrc-ide/odin/issues/129" class="external-link">#129</a>, <a href="https://github.com/mrc-ide/odin/issues/127" class="external-link">#127</a>, <a href="https://github.com/mrc-ide/odin/issues/123" class="external-link">#123</a>, <a href="https://github.com/mrc-ide/odin/issues/122" class="external-link">#122</a>, <a href="https://github.com/mrc-ide/odin/issues/121" class="external-link">#121</a>, <a href="https://github.com/mrc-ide/odin/issues/120" class="external-link">#120</a>, <a href="https://github.com/mrc-ide/odin/issues/117" class="external-link">#117</a>, <a href="https://github.com/mrc-ide/odin/issues/115" class="external-link">#115</a>, <a href="https://github.com/mrc-ide/odin/issues/112" class="external-link">#112</a>, <a href="https://github.com/mrc-ide/odin/issues/106" class="external-link">#106</a>, <a href="https://github.com/mrc-ide/odin/issues/99" class="external-link">#99</a>, <a href="https://github.com/mrc-ide/odin/issues/98" class="external-link">#98</a>, <a href="https://github.com/mrc-ide/odin/issues/84" class="external-link">#84</a>, <a href="https://github.com/mrc-ide/odin/issues/72" class="external-link">#72</a>, <a href="https://github.com/mrc-ide/odin/issues/64" class="external-link">#64</a>, <a href="https://github.com/mrc-ide/odin/issues/57" class="external-link">#57</a>, <a href="https://github.com/mrc-ide/odin/issues/52" class="external-link">#52</a>, <a href="https://github.com/mrc-ide/odin/issues/12" class="external-link">#12</a>, <a href="https://github.com/mrc-ide/odin/issues/4" class="external-link">#4</a></p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.2" id="odin-012">odin 0.1.2<a class="anchor" aria-label="anchor" href="#odin-012"></a></h2>
<ul><li>Validate parameters in input</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.10" id="odin-0010">odin 0.0.10<a class="anchor" aria-label="anchor" href="#odin-0010"></a></h2>
<ul><li>Replication interface for discrete models (primarily for stochastic models) <a href="https://github.com/mrc-ide/odin/issues/125" class="external-link">#125</a>.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.9" id="odin-009">odin 0.0.9<a class="anchor" aria-label="anchor" href="#odin-009"></a></h2>
<ul><li>Delay differential equations may use interpolated functions within their delays <a href="https://github.com/mrc-ide/odin/issues/130" class="external-link">#130</a>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.6" id="odin-006">odin 0.0.6<a class="anchor" aria-label="anchor" href="#odin-006"></a></h2>
<ul><li>Fix caching of models specified with files (rather than inline code) <a href="https://github.com/mrc-ide/odin/issues/99" class="external-link">#99</a>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.5" id="odin-005">odin 0.0.5<a class="anchor" aria-label="anchor" href="#odin-005"></a></h2>
<ul><li>Support for multinomial distributions, which are the first example of supported vector-returning functions <a href="https://github.com/mrc-ide/odin/issues/100" class="external-link">#100</a>
</li>
<li>New vignette for discrete time models, contributed by <a href="https://github.com/thibautjombart" class="external-link"><code>@thibautjombart</code></a> <a href="https://github.com/mrc-ide/odin/pull/102" class="external-link">#102</a>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.4" id="odin-004">odin 0.0.4<a class="anchor" aria-label="anchor" href="#odin-004"></a></h2>
<ul><li>Generate odin models in “safe” mode, where all array access is bounds-checked. This will run slower but make debugging crashes much simpler (<a href="https://github.com/mrc-ide/odin/issues/79" class="external-link">#79</a>, <a href="https://github.com/mrc-ide/odin/issues/49" class="external-link">#49</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.3" id="odin-003">odin 0.0.3<a class="anchor" aria-label="anchor" href="#odin-003"></a></h2>
<ul><li>Implement caching layer <a href="https://github.com/mrc-ide/odin/issues/54" class="external-link">#54</a> and possibly enough for <a href="https://github.com/mrc-ide/odin/issues/62" class="external-link">#62</a>. The interface here is subject to change (currently there is no way to interact with the cache) but should be enough for most cases. Setting the output directory explicitly will be necessary to cache across sessions.</li>
</ul></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Rich FitzJohn, Travis Fischer.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

